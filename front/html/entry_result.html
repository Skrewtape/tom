<uib-accordion close-others="true">
  <uib-accordion-group is-disabled='true' panel-class="panel-danger">
    <uib-accordion-heading>
      {{title}}
    </uib-accordion-heading>      
  </uib-accordion-group>
  
  <div ng-repeat="(div_id,div_entries) in display_entries">
  <uib-accordion-group ng-repeat='(entry_id,entry) in div_entries|orderBy:orderBy' ng-if="$first|| top_entry==undefined">
      <uib-accordion-heading>
	{{tournaments[divisions[entry.division_id].tournament_id].name}} <span ng-if='entry.rank != null'>(Rank :  #{{entry.rank}}) </span>
      </uib-accordion-heading>
      Ticket Id : #{{entry_id}}<br>
      <span ng-if='entry.scores != undefined && entry.scores.length < 5'><a class='btn btn-info' ng-click='get_score_estimate(entry)'>estimate that shit</a></span>
      <table class='table'>
	<tr>
	  <th>
	    Game
	  </th>
	  <th>
	    Score
	  </th>
	  <th>
	    Rank
	  </th>
	  <th>
	    Points
	  </th>
	</tr>
        <tr ng-if='entry.scores == undefined'>
	  <td colspan=4>
	    <center>No scores recorded yet.</center>
	  </td>
	</tr>
        <tr ng-repeat='score in entry.scores' ng-if='entry.scores != undefined'>	  
          <td>
      	    {{machines[score.machine_id].name}}
          </td>
          <td>
	    {{score.score|number}}
          </td>
          <td>
	    <span ng-if='score.rank != undefined && score.rank != null'>{{score.rank}}</span>
	    <span ng-if='score.rank == undefined || score.rank == null'><span style='color:red'>{{inprogress_estimates[score.score_id].estimated_rank}}</span></span>
          </td>
	  <td>
	    <span ng-if='score.rank != undefined'>{{calc_machine_score_points(score.rank)}}</span>
	    <span ng-if='score.rank == undefined'><span style='color:red'>{{inprogress_estimates[score.score_id].estimated_points}}</span></span>
	  </td>
        </tr>
	<tr>
	  <td colspan=3></td>
	  <td>
	    <span ng-if='entry.scores != undefined && entry.scores.length == 5'><b>{{entry.score}}</b></span>
	    <span ng-if='entry.scores != undefined && entry.scores.length < 5'><span style='color:red'><b>{{inprogress_entry_estimates[entry.entry_id]}}</b></span></span>
	  </td>
	</tr>
      </table>      
  </uib-accordion-group>
  </div>
</uib-accordion>
